<p align="center">
    <h1 align="center">
      <picture>
        <source media="(prefers-color-scheme: light)" srcset="https://github.com/privacy-scaling-explorations/zk-kit.circom/assets/11427903/75a1b761-34b7-47e9-b7a7-6ed9a8044a8f">
        <source media="(prefers-color-scheme: dark)" srcset="https://github.com/privacy-scaling-explorations/zk-kit.circom/assets/11427903/efd24510-3cff-4c7e-b660-b27b961d797e">
        <img width="250" alt="ZK-Kit logo" src="https://github.com/privacy-scaling-explorations/zk-kit.circom/assets/11427903/75a1b761-34b7-47e9-b7a7-6ed9a8044a8f">
      </picture>
      <sub>Circom</sub> 
    </h1>
</p>

<p align="center">
    <a href="https://github.com/privacy-scaling-explorations" target="_blank">
        <img src="https://img.shields.io/badge/project-PSE-blue.svg?style=flat-square">
    </a>
    <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/blob/main/LICENSE">
        <img alt="Github license" src="https://img.shields.io/github/license/privacy-scaling-explorations/zk-kit.circom.svg?style=flat-square">
    </a>
    <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/actions?query=workflow%3Atests">
        <img alt="GitHub Workflow tests" src="https://img.shields.io/github/actions/workflow/status/privacy-scaling-explorations/zk-kit.circom/tests.yml?branch=main&label=test&style=flat-square&logo=github">
    </a>
    <a href="https://prettier.io/">
        <img alt="Code style prettier" src="https://img.shields.io/badge/code%20style-prettier-f8bc45?style=flat-square&logo=prettier">
    </a>
    <a href="http://commitizen.github.io/cz-cli/">
        <img alt="Commitizen friendly" src="https://img.shields.io/badge/commitizen-friendly-586D76?style=flat-square">
    </a>
</p>

<div align="center">
    <h4>
        <a href="/CONTRIBUTING.md">
            üë• Contributing
        </a>
        <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <a href="/CODE_OF_CONDUCT.md">
            ü§ù Code of conduct
        </a>
        <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/issues/new/choose">
            üîé Issues
        </a>
        <span>&nbsp;&nbsp;|&nbsp;&nbsp;</span>
        <a href="https://appliedzkp.org/discord">
            üó£Ô∏è Chat &amp; Support
        </a>
    </h4>
</div>

| ZK-Kit is a set of libraries (algorithms or utility functions) that can be reused in different projects and zero-knowledge protocols, making it easier for developers to access user-friendly, tested, and documented code for common tasks. ZK-Kit provides different repositories for each language - this one contains Circom templates only. |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

> [!IMPORTANT]  
> Installation of [Circom](https://docs.circom.io/getting-started/installation/) required for circuit tests.

## üóÇÔ∏è Repositories

-   Javascript: https://github.com/privacy-scaling-explorations/zk-kit
-   Solidity: https://github.com/privacy-scaling-explorations/zk-kit.solidity
-   Circom: https://github.com/privacy-scaling-explorations/zk-kit.circom
-   Noir: https://github.com/privacy-scaling-explorations/zk-kit.noir

## üì¶ Packages

<table>
    <th>Package</th>
    <th>Version</th>
    <th>Downloads</th>
    <th>Audited</th>
    <tbody>
        <tr>
            <td>
                <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/tree/main/packages/binary-merkle-root">
                    @zk-kit/binary-merkle-root.circom
                </a>
            </td>
            <td>
                <!-- NPM version -->
                <a href="https://npmjs.org/package/@zk-kit/binary-merkle-root.circom">
                    <img src="https://img.shields.io/npm/v/@zk-kit/binary-merkle-root.circom.svg?style=flat-square" alt="NPM version" />
                </a>
            </td>
            <td>
                <!-- Downloads -->
                <a href="https://npmjs.org/package/@zk-kit/binary-merkle-root.circom">
                    <img src="https://img.shields.io/npm/dm/@zk-kit/binary-merkle-root.circom.svg?style=flat-square" alt="Downloads" />
                </a>
            </td>
            <td>
                <a href="https://semaphore.pse.dev/Semaphore_4.0.0_Audit.pdf">
                    ‚úîÔ∏è
                </a>
            </td>
        </tr>
        <tr>
            <td>
                <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/tree/main/packages/ecdh">
                    @zk-kit/ecdh.circom
                </a>
            </td>
            <td>
                <!-- NPM version -->
                <a href="https://npmjs.org/package/@zk-kit/ecdh.circom">
                    <img src="https://img.shields.io/npm/v/@zk-kit/ecdh.circom.svg?style=flat-square" alt="NPM version" />
                </a>
            </td>
            <td>
                <!-- Downloads -->
                <a href="https://npmjs.org/package/@zk-kit/ecdh.circom">
                    <img src="https://img.shields.io/npm/dm/@zk-kit/ecdh.circom.svg?style=flat-square" alt="Downloads" />
                </a>
            </td>
            <td>
                ‚ùå
            </td>
        </tr>
        <tr>
            <td>
                <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/tree/main/packages/poseidon-cipher">
                    @zk-kit/poseidon-cipher.circom
                </a>
            </td>
            <td>
                <!-- NPM version -->
                <a href="https://npmjs.org/package/@zk-kit/poseidon-cipher.circom">
                    <img src="https://img.shields.io/npm/v/@zk-kit/poseidon-cipher.circom.svg?style=flat-square" alt="NPM version" />
                </a>
            </td>
            <td>
                <!-- Downloads -->
                <a href="https://npmjs.org/package/@zk-kit/poseidon-cipher.circom">
                    <img src="https://img.shields.io/npm/dm/@zk-kit/poseidon-cipher.circom.svg?style=flat-square" alt="Downloads" />
                </a>
            </td>
            <td>
                ‚ùå
            </td>
        </tr>
        <tr>
            <td>
                <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/tree/main/packages/poseidon-proof">
                    @zk-kit/poseidon-proof.circom
                </a>
            </td>
            <td>
                <!-- NPM version -->
                <a href="https://npmjs.org/package/@zk-kit/poseidon-proof.circom">
                    <img src="https://img.shields.io/npm/v/@zk-kit/poseidon-proof.circom.svg?style=flat-square" alt="NPM version" />
                </a>
            </td>
            <td>
                <!-- Downloads -->
                <a href="https://npmjs.org/package/@zk-kit/poseidon-proof.circom">
                    <img src="https://img.shields.io/npm/dm/@zk-kit/poseidon-proof.circom.svg?style=flat-square" alt="Downloads" />
                </a>
            </td>
            <td>
                ‚ùå
            </td>
        </tr>
        <tr>
            <td>
                <a href="https://github.com/privacy-scaling-explorations/zk-kit.circom/tree/main/packages/utils">
                    @zk-kit/utils.circom
                </a>
            </td>
            <td>
                <!-- NPM version -->
                <a href="https://npmjs.org/package/@zk-kit/utils.circom">
                    <img src="https://img.shields.io/npm/v/@zk-kit/utils.circom.svg?style=flat-square" alt="NPM version" />
                </a>
            </td>
            <td>
                <!-- Downloads -->
                <a href="https://npmjs.org/package/@zk-kit/utils.circom">
                    <img src="https://img.shields.io/npm/dm/@zk-kit/utils.circom.svg?style=flat-square" alt="Downloads" />
                </a>
            </td>
            <td>
                ‚ùå
            </td>
        </tr>
    <tbody>
</table>

## üë• Ways to contribute

-   üîß Work on [open issues](https://github.com/privacy-scaling-explorations/zk-kit.circom/contribute)
-   üì¶ Suggest new [circuits](https://github.com/privacy-scaling-explorations/zk-kit.circom/issues/new?assignees=&labels=feature+%3Arocket%3A&template=---circuit.md&title=)
-   üêõ Create a report if you find any [bugs](https://github.com/privacy-scaling-explorations/zk-kit.circom/issues/new?assignees=&labels=bug+%F0%9F%90%9B&template=---bug.md&title=) in the code

## üõ† Install

Clone this repository:

```bash
git clone https://github.com/privacy-scaling-explorations/zk-kit.circom.git
```

and install the dependencies:

```bash
cd zk-kit.circom && yarn
```

## üìú Usage

### Code quality and formatting

Install and run [Circomspect](https://github.com/trailofbits/circomspect) to analyze the code and catch bugs:

```bash
yarn lint
```

> [!WARNING]  
> You need to install Circomspect with `cargo install circomspect` to run this command.

Run [Prettier](https://prettier.io/) to check formatting rules:

```bash
yarn format
```

or to automatically format the code:

```bash
yarn format:write
```

### Conventional commits

ZK-Kit uses [conventional commits](https://www.conventionalcommits.org/en/v1.0.0/). A [command line utility](https://github.com/commitizen/cz-cli) to commit using the correct syntax can be used by running:

```bash
git commit
```

### Testing

Test the code with:

```bash
yarn test
```

### Compile

Compile all the circuits with:

```bash
yarn compile
```

### Releases

1. Bump a new version of the package with:

```bash
yarn version:bump <package-name> <version>
# e.g. yarn version:bump utils 2.0.0
```

This step creates a commit and a git tag.

2. Push the changes to main:

```bash
git push origin main
```

3. Push the new git tag:

```bash
git push origin <package-name>-<version>
# e.g. git push origin utils-v2.0.0
```

After pushing the new git tag, a workflow will be triggered and will publish the package on [npm](https://www.npmjs.com/) and release a new version on Github with its changelogs automatically.
